Todos & Improvements:

- ✅ When filling-out loan transaction with multiple investors, add a button that will copy the details of the first filled-out investor.
- ✅ Add a separate checker or complete button for the payment periods (Implemented: periods now have status field and can be marked as complete via UI button)
- ✅ There are bug relating to months with a due date with more than 30days. It detects as already as multiple months
- ✅ For all the transactions and loans, we should detect if today is more than due date of certain transaction or loan, then we should automatically update their status from 'Fully Funded' to 'Overdue'. (Implemented: automatic check runs on dashboard, loans, and investors page load. API endpoint: POST /api/loans/check-overdue)
- Checker for possible duplicate transaction input
- ✅ Add total amount on our 3 stats card. Make sure we have support both overall and per investor total.
- ✅ Scroll Bug for number input
- ✅ When creating a loan, we should be able to add a investor and payment of 0 principal but has fixed amount of interest. Right now, when we put 0 on amount, and we set the fixed interest to 10k, the total interest is 0 because it looks like we are multiplying it and not not adding
- ✅ Limit sent and due dates for card & table view
- ✅ Limit 1 event card to calendar view for transaction and loans, if more than 2, add view more, and when click, display all of them just we have consistent calendar cell width and height
- ✅ When we edit a loan with multiple periods and one period is already completed, when we click Update, it reset back to Overdue. We should not update the period status if the period is already completed unless they update the due date or rate.
- ✅ Let's create a fourth card called Completed Loans. It should be placed before Overdue Loans. Please update all usages where we have these existing 3 cards.
- ✅ Do not add limit to 3 stat cards and set max height and inner scroll.
- ✅ On past due loans, we should display the date of the overdue date for multiple interest and not the final due date because it doesn't make sense
- ✅ When on mobile, all card click on Loans, Transactions, Investors on table or card view should open the detail page instead of opening the modal for better UX
- ✅ When we create a transaction or loan, then we select an investor, the transaction or loan should be added as well on that user account via email. Meaning, all loans and transactions should be shareable via Investor email and the investor can see the loan and transaction details. (Implemented: Investor Portal with automatic user account creation, role-based access control, and dedicated investor pages for viewing loans and transactions)
- ✅ Support export to CSV or spreadsheet for all loans and transactions table. We should also support 2 types of export. Export all data and export filtered data. The filtered data are the data filtered using our different filtered method. We should also follow the current sort order that's visible on the table. Let's use button dropdown menu to show the 2 types of export. Apply for all our tables from our app. (Implemented: CSV export with dropdown menu for "Export All" and "Export Filtered" options. Applied to all tables: Loans, Investors, Transactions, and Investor detail page tabs. Exports respect current filters and sort order.)
- ✅ Add total lot in investor detail page (with and without depacto)
- Create google calendar event for every new or updated transaction and add all investor emails in the google event
- UI Improvements: Make most of the text smaller. Reduce padding and spacing.
- ✅ When on smaller width screens, let's reduce the table columns
- Smartly check if the update changes required updating all transactions, else, let's only update the specific changes that needs to update for for faster update
- ✅ On add / edit loan, on Investors section, let's add a menu between the accordion and close button for investor card, when user click it, let's display a dropdown/menu option. Right now, the only option is "Duplicate", when we click this, it will open a modal which displays "Select investors" dropdown. When we click this, it will open a dropdown and each investor has a checkbox. When user select investors, it will copy the same investor detail to other selected investors. The purpose of this is to easily set information to other investor specially if the details is similar. This will copy and paste the exact values and configs regardless if it's one time or multiple interest, we should have the ability so smartly copy and paste investor information for all principal payments & interest configurations. We should also smartly copy and paste if it's rate or fixed for period interests.
- ✅ When we detect that that due date and sent date is more than a month & 15 days, we should automatically set and highlight "Multiple Interest" tab, then we should also automatically set the due date for each period to Due Date - 1 month. Meaning if due date is Dec 15, 2025, and sent Date for is Nov 1, 2025, the Period 1 due date is automatically set to Nov 15, 2025 and the Period 2 (Final) is Dec 15, 2025. This also applies for multiple months. Example, if due date is Dec 31, 2025, and the send date is Sept 1, 2025. Then period 1 due date is Sept 30, period 2 due date is Oct 31, period 3 is Nov 30, period 4 (final) is Dec 31. If you notice, we should smartly detect the one month interval, we cannot use 28 or 30 or 31 as fixed month interval. We should be very smart on calculating it. Every time we update the sent date and due date, we should also update the periods due date.
- When we update a loan or transaction, it update all our transactions. We should smartly detect if the field that we change is not related to any computation like Notes, name, free lot and other fields, let's skip updating all our transactions for faster update
- We should add close button after delete action button for all our modal content and let's make our modal not closable when we click on blur or outside the modal. This will prevent modal from closing when user editing a form or form is still submitting. Apply for all modal contents
  -✅ When we are on desktop view, we should not make the table rows clickable. We should only open the loan/transaction detail modal if we click on "View" action button. Only on mobile view we can open the modal upon row click.
- Support partially paid process for loans
- Loan with multiple interest where we have overdue on a period is still Overdue status after I completed the overdue period. Ex. Del Carmen, Lubao
- ✅ We have major issue when updating existing loans, the periods are updating because of auto set of period that we have instead of getting the existing periods. It also seems that the periods distribution on 2nd and final periods. Only do the multiple period interest distribution on create and not on UPDATE so that do don't modify existing periods
- Update Status to Partially Paid when we a loan have multiple periods a period is marked a completed
- Let's remove the update every transaction implementation for every loan/transaction create/update. I don't think we still need it.
- We are showing investors that's not in a loan when we copy investor detail
- Improve responsiveness of action buttons on modal
- Let's revert and enable close modal on outside click and just prevent modal on outside click ONLY if we are submitting the form or we have dirty changes from the form
- Let's update the date format from DD/MM/YYYY to MM/DD/YYYY on calendar picker input
- It seems that the update transaction detection is not properly working because when I ONLY edit a notes from a loan, it's still updating every transaction.
